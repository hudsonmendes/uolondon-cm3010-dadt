<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <title>Find Houses near Good Schools</title>
    <link rel="stylesheet" href="/css/bootstrap.min.css" />
    <link rel="stylesheet" href="/css/styles.css" />
</head>

<body>
    <div class="container">
        <h1>Find Regions with Good Schools & Good Home Prices</h1>
        <p>Use this tool to know which regions to consider in your home search.</p>
        <div class="row">

            <div class="col-md">
                <h2>Search Price Range & Postcodes</h2>
                <form method="get" action="/">
                    <input type="hidden" id="mode" name="mode" value="price-range" />
                    <div class="row">
                        <div class="col-md">
                            <div class="form-group">
                                <label>Postcode</label>
                                <select id="postgroupIds" name="postgroupIds" multiple="True" class="form-control">
                                    {{#postgroups}}
                                    <option value="{{value}}" {{#selected}}selected="selected"{{/selected}}>{{text}}</option>
                                    {{/postgroups}}
                                </select>
                            </div>
                        </div>
                        <div class="col-md">
                            Price Range
                            <div class="form-group">
                                <select id="priceRangeStart" name="priceRangeStart" class="form-control form-money">
                                    {{#priceRangesStart}}
                                    <option value="{{value}}" {{#selected}}selected="selected"{{/selected}}>{{text}}</option>
                                    {{/priceRangesStart}}
                                </select>
                            </div>
                            <div class="form-group">
                                <label>to</label>
                                <select id="priceRangeEnd" name="priceRangeEnd" class="form-control form-money">
                                    {{#priceRangesEnd}}
                                    <option value="{{value}}" {{#selected}}selected="selected"{{/selected}}>{{text}}</option>
                                    {{/priceRangesEnd}}
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Search</button>
                    </div>
                </form>
            </div>

            <div class="col-md">
                <h2>Search by Place Name</h2>
                <form method="get" action="">
                    <input type="hidden" id="mode" name="mode" value="place-name" />
                    <div class="form-group">
                        <label>Place Name</label>
                        <input type="text" id="placeName" name="placeName" class="form-control" value="{{query.placeName}}">
                    </div>
                    <div class="form-actions">
                        <button type="submit" class="btn btn-primary">Search</button>
                    </div>
                </form>
            </div>

        </div>

        <table class="table">
            <thead>
                <tr>
                    <td>locality</td>
                    <td>postcode</td>
                    <td class="text-end">average home price</td>
                    <td class="text-end">average ofsted rating</td>
                </tr>
            </thead>
            <tbody>
                {{#results}}
                <tr>
                    <td>{{locality}}</td>
                    <td>{{postcode}}</td>
                    <td class="text-end">{{avgHomePrice}}</td>
                    <td class="text-end">
                        {{avgOfstedRating}}
                        {{#avgOfstedOutstanding}}<span class="badge bg-success">Outstanding</span>{{/avgOfstedOutstanding}}
                        {{#avgOfstedVeryGood}}<span class="badge bg-primary">Very Good</span>{{/avgOfstedVeryGood}}
                        {{#avgOfstedGood}}<span class="badge bg-info">Good</span>{{/avgOfstedGood}}
                        {{#avgOfstedNeedsImprovement}}<span class="badge bg-warning">Needs Improveent</span>{{/avgOfstedNeedsImprovement}}
                        {{#avgOfstedInadequate}}<span class="badge bg-danger">Inadequate</span>{{/avgOfstedInadequate}}
                    </td>
                </tr>
                {{/results}}
            </tbody>
        </table>


        <footer>
            Contains HM Land Registry data Â© Crown copyright and database right 2021.<br />
            This data is licensed under the <a href="https://www.nationalarchives.gov.uk/doc/open-government-licence/version/3/">Open Government Licence v3.0</a>.
        </footer>
    </div>
</body>

</html>